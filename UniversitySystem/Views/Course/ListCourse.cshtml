@model UniversitySystem.ViewModel.CourseVM.CourseListCourseVM
@{
    ViewBag.Title = "ListCourse";
}

<h2>ListCourse</h2>

@Html.ActionLink("Create new course", "CreateCourse")

@using (Html.BeginForm(FormMethod.Post))
{
    <div class="row">
        <div class="col-lg-12">
            <div class="table-responsive">
                <table style="text-align:center" class="table table-bordered table-hover table-striped">
                    <thead>
                        <tr>
                            <th style="text-align:center">Course name</th>
                            <th style="text-align:center">Students </th>
                            <th style="text-align:center">Subjects </th>
                            <th style="text-align:center">FK number</th>
                            <th style="text-align:center">Add Subject</th>
                            <th style="text-align:center">List students</th>
                            <th style="text-align:center">Add student to course</th>
                            <th style="text-align:center">Actions</th>
                        </tr>
                    </thead>

                    @foreach (var item in Model.Courses)
                    {
                        <tr>
                            <td>@item.Name</td>
                            <td>Active: @item.Student.Count(x => x.Active == true) || De: @item.Student.Count(x => x.Active == false)</td>
                            <td>@item.CourseSubject.Count()</td>
                            <td>@item.FKNumber</td>
                            <td>
                                @Html.ActionLink("Add subject", "AddSubjectToCourse", new { id = item.ID })
                            </td>
                            <td>
                                @Html.ActionLink("List students", "ListStudents", new { controller = "Student", id = item.ID })
                            </td>
                            <td>
                                @Html.ActionLink("Add students to course", "CreateStudent", new { controller = "Student", id = item.ID })

                            </td>
                            <td>
                                @Html.ActionLink("Edit ", "EditCourse", new { id = item.ID }) | |
                                @Html.ActionLink("Delete", "Delete", new { id = item.ID })
                            </td>
                        </tr>
                    }
                </table>
            </div>
        </div>
    </div>
}
